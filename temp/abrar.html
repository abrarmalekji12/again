{% load static %}
<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
</head>
<style>
    body {
        font-family: arial;
    }
    
    #ul1 {
        list-style: none;
        display: inline-flex;
    }
    
    .home {
        padding: 10px;
    }
    
    .a1 {
        text-decoration: none;
        text-align: center;
        font-size: 17px;
        color: white;
        padding: 10px;
        border-radius: 5px;
    }
    
    .a2 {
        text-align: left;
        text-decoration: none;
        display: block;
        position: relative;
        color: black;
        font-size: 15px;
        padding: 4px 10px;
    }
    
    #ul1 .home:hover .div2 {
        visibility: visible;
    }
    
    .a2:hover {
        background-color: #d3d3d3;
        text-decoration: none;
        color: black;
    }
    
    .a2:active {
        background-color: black;
        text-decoration: none;
        color: white;
    }
    
    .a1:hover {
        background-color: white;
        text-decoration: none;
        color: black;
    }
    
    #ul1 li {
        display: block;
        margin: 5px 20px;
    }
    
    #h11 {
        position: relative;
        color: white;
        font-size: 150%;
        text-align: center;
        font-family: georgia;
        margin: auto;
    }
    
    #div1 {
        display: block;
        position: relative;
        align-content: center;
        width: 100%;
        text-align: center;
        z-index: 34;
    }
    
    #div3 {
        position: absolute;
        display: block;
        left: 2%;
        bottom: -10%;
    }
    
    .div2 {
        display: block;
        text-align: left;
        background-color: white;
        position: absolute;
        visibility: hidden;
        z-index: 60;
        border-width: 2px;
        border-color: black;
        width: 200px;
    }
    
    #title {
        display: inline-flex;
        border-color: white;
        border-radius: 10px;
        border-style: solid;
        border-width: 2px;
        align-content: center;
        padding: 10px;
        margin-top: 2%;
        text-align: right;
        width: 300px;
    }
    
    #slide {
        padding: 1px;
        background: #282828;
        position: relative;
        width: 45%;
        height: 25%;
        margin-top: 50px;
        border-radius: 15px;
        margin-left: 20px;
    }
    
    #cu_details {
        display: block;
        font-weight: 100px;
        font-family: arial;
    }
    
    #slide div {
        border-radius: 15px;
    }
    
    #logo {
        width: 35px;
        height: 35px;
    }
    
    .nav1 {
        background: #282828;
    }
    
    .data {
        position: relative;
        padding: 10px;
        margin: 10px;
        font-family: georgia;
        font-size: 20px;
        margin-bottom: auto;
    }
    
    table tr td {
        padding: 30px;
        margin: 30px;
        text-align: center;
        background: white;
        color: black;
    }
    
    table tr {
        display: table-row;
        text-align: center;
    }
    
    .tr2 :hover {
        background: #d3d3d3;
    }
    
    #srch {
        position: relative;
        font-size: 20px;
        color: black;
        margin-top: auto;
        background: white;
        border-radius: 5px;
        font-family: monospace;
    }
    
    .deta {
        font-size: 25px;
        color: black;
        font-family: georgia;
        text-align: center;
    }
    
    #cat {
        padding: 10px;
        margin: 10px;
        color: black;
        font-family: casual;
        border-radius: 5px;
        font-size: 18px;
    }
    
    table {
        text-align: center;
        border: 2px solid black;
        margin: auto;
    }
</style>
<script>
    var z = 0;
    var t = "road";
    $('.carousel').carousel();

    function funs() {
        var a = document.getElementById('cat');
        t = a.value;
    }

    function fun() {
        var e = document.getElementById('srch')
        var data = document.getElementsByTagName('tr')
        var input = e.value;
        var flag = false;
        for (var i = 1; i < data.length; i++) {
            var s;
            switch (t) {
                case 'road':
                    s = data[i].children[1].innerHTML;
                    break;
                case 'city':
                    s = data[i].children[3].innerHTML;
                    break;
                case 'area':
                    s = data[i].children[2].innerHTML;
                    break;
                case 'pin':
                    s = data[i].children[4].innerHTML;
                    break;
                case 'date':
                    s = data[i].children[8].innerHTML;
                    break;
            }
            s = s.toLowerCase()
            input = input.toLowerCase()
            if (!s.startsWith(input))
                data[i].style.display = "none";
            else {
                data[i].style.display = "table-row";
                flag = true;
            }
        }
        if (!flag)
            data[0].style.display = "none";
        else
            data[0].style.display = "table-row";
    }
    /*      var t = document.documentElement.scrollTop;
          z = (t < 0) ? 0 : t;
          if (z > 1 && z < 99) {
              var c = document.getElementById('div3');
              c.style.marginLeft = ((z * 2) - 3) + "pt";
          } else {
              var c = document.getElementById('div1');
              c.style.height = ((int)(17 / z)) + "pt";
          }
      */
</script>

<body>
    <div id="div1">
        <nav class="nav1" style="height:200px;width:100%;">
            <div id="title">
                <img src="{% static 'roadlg.png' %}" width="50px" height="50px" id="logo" />
                <h1 id="h11">Road Management</h1>
            </div>
            <div id="div3">
                <ul id="ul1">
                    <li>
                        <div class="home">
                            <a class="a1" href="{% url 'home' %}">Home</a>
                        </div>
                    </li>

                    <li>
                        <div class="home">
                            <a class="a1" href="#">Road Constructions</a>
                            <div class="div2">
                                <a href="{% url 'cudetails' %}" class="a2">Current Details</a>
                                <a href="{% url 'predetails' %}" class="a2">Previous Details</a>
                            </div>
                        </div>
                    </li>
                    <li>
                        <div class="home">
                            <a class="a1" href="#">Contract</a>
                        </div>
                    </li>
                    <li>
                        <div class="home">
                            <a class="a1" href="contact">Contact Us</a>
                        </div>
                    </li>
                    <li>
                        <div class="home">
                            <a class="a1" href="about">About Us</a>
                        </div>
                    </li>
                    <li>
                        <div class="home">
                            <a class="a1" href="#">Login</a>
                            <div class="div2">
                                <a href="{% url 'As an Inspector' %}" class="a2">As an Inspector</a>
                                <a href="{% url 'As an Municipal Officer' %}" class="a2">As an Municipal Officer</a>
                            </div>
                        </div>
                    </li>

                </ul>

            </div>
        </nav>
    </div>
    {% if mode == 0 %}
    <div id="slide">
        <div id="carouselExampleInterval" width="35%" height="10%" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active" data-interval="1000">
                    <img src="{% static 'cleanimg.png' %}" width="250px" height="250px" class="d-block w-100" alt="aa">
                </div>
                <div class="carousel-item" data-interval="1000">
                    <img src="{% static 'road.jpg' %}" width="250px" height="250px" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'gujgov.jpg' %}" width="250px" height="250px" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static '1-1.jpg' %}" width="250px" height="250px" class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src="{% static 'dreamstime_s_89405525.jpg' %}" width="250px" height="250px" class="d-block w-100" alt="...">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleInterval" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleInterval" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    {% else %} {% block abrar %}
    <div id="cu_details">
        <b>Search by </b><select id="cat" onchange="funs()">
            <option>road</option>
            <option>city</option>
            <option>area</option>
            <option>pin</option>
            <option>date</option>
        </select>
        <input id="srch" type="text" placeholder="Search.." oninput="fun()"> {% if mode == 1 %}
        <h2 class="deta">Current Constructions</h2>
        {% else %}
        <h2 class="deta">Previous Constructions</h2>
        {% endif %}
    </div>
    <div class='data'>
        {% if note %}
        <table>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Area</th>
                <th>City</th>
                <th>Pin</th>
                <th>Length</th>
                <th>Width</th>
                <th>Fund Allocated</th>
                {% if mode is 1 %}
                <th>Starting date</th>
                {% else %}
                <th>Completion date</th>
                {% endif %}
            </tr>
            {% for i in cu %}

            <tr class="tr2">
                <td>{{i.construction.road.id}}</td>
                <td>{{i.construction.road.name}}</td>
                <td>{{i.construction.road.area}}</td>
                <td>{{i.construction.road.city}}</td>
                <td>{{i.construction.road.pin}}</td>
                <td>{{i.construction.road.length}} Km</td>
                <td>{{i.construction.road.lane}} Lane</td>
                <td>{{i.construction.fund}} crores</td>
                {% if mode is 1 %}
                <td>{{i.start_date}}</td>
                {% else %}
                <td>{{i.finish_date}}</td>
                {% endif %}
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <h4 style="font-family:georgia;text-align:center;">List is empty</h4>
        {% endif %}
    </div>
    {% endblock %} {% endif %}
</body>

</html>